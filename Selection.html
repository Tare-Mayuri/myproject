<!DOCTYPE html>
<html lang="en">

<!-- head -->
<head>
	<meta charset="UTF-8" />
	<meta name="viewport"
		content="width=device-width, initial-scale=1.0" />
	<meta http-equiv="X-UA-Compatible" content="ie=edge" />
	
	<!-- title -->
	<title>Selection Sort</title>

	<!-- linking selection.css -->
	<link href="../assets/css/selection.css" rel="stylesheet" />
</head>
<!-- body -->
<style>
	nav {
   background: #4682B4;
   height: 70px;
   width: 100%;
    }
	</style>
<body >
<center>
	<nav>
	<table>
		<tr>
		
		<td><b style="background-color: white";
			color: black;
			padding: 10px;
			font-size: 16px;
			width: : 200px;
			height: : 100px;
			border-radius: 5px;
			font-size: 20px;>SIZE  
		<select id="num">
		<option value="">Select size</option>
		
		<option value="10">10</option>
		<option value="20">20</option>
		<option value="30">30</option>
		<option value="40">40</option>
		<option value="50">50</option>
		<option value="60">60</option>
		
		
		
		</select>
		
		</b></td> 
		
		
		<td><b style="background-color: white";
			color: black;
			padding: 10px;
			font-size: 16px;
			width: : 200px;
			height: : 100px;
			border-radius: 5px;
			font-size: 20px;>SPEED<input type="range" min="1" max="1000"	 id="speed" value="200"></b></td>
		
		
		<td><button  style="color: black";
			border: 2px solid rgb(216, 2, 134);
			border-radius: 0px;
			padding: 18px 36px;
			display: inline-block;
			font-family: Lucida Console, Monaco,     monospace;
			font-size: 14px;
			letter-spacing: 1px;
			cursor: pointer;
			box-shadow: inset 0 0 0 0 #4682B4;
			-webkit-transition: ease-out 0.4s;
			-moz-transition: ease-out 0.4s;
			 transition: ease-out 0.4s;  
			box-shadow: inset 0 100px 0 0 #4682B4; type="submit" id="button1" style= width:120px;>START</button></td>
		
<td></td>
		
		<td><button  style="color: black";
			border: 2px solid rgb(218, 2, 134);
			border-radius: 0px;
			padding: 18px 36px;
			display: inline-block;
			font-family: Lucida Console, Monaco,     monospace;
			font-size: 14px;
			letter-spacing: 1px;
			cursor: pointer;
			box-shadow: inset 0 0 0 0 #D80286;
			-webkit-transition: ease-out 0.4s;
			-moz-transition: ease-out 0.4s;
			 transition: ease-out 0.4s;  
			box-shadow: inset 0 100px 0 0 #D80286;" onclick="generate()" id="button2" style="width: 120%;">REGENERATE</button></td>
		
			<td>
				<td>
				<td>
				<td>
				<td>
				<a class="back" href="Index.html"><b>HOME</b></a>
				</td>
				</td>
				</td>
				</td>
				</td>
				
		</tr>
		</table>
	</nav>
</center>
<!--<section class="head">Selection Sort </section>-->
<section class="data-container"></section>
<!-- "Selection Sort" button --> 

<!--<button class="btn2"
		onclick="SelectionSort()" id="Button2" >
	Start</button>
	&nbsp;&nbsp;
	<button class="btn1" onclick="stop()" id="Button1" >
		Stop</button> 
</body>
-->
<!-- linking selection.js -->
<script>
    const container = document.querySelector(".data-container");
var flag=0;
// function to generate bars
function generatebars(num = 42) {
	
//for loop to generate 20 bars
for (let i = 0; i < num; i += 1) {

	// To generate random values from 1 to 100
	const value = Math.floor(Math.random() * 100) + 1;
	
	// To create element "div"
	const bar = document.createElement("div");

	// To add class "bar" to "div"
	bar.classList.add("bar");

	// Provide height to the bar
	bar.style.height = `${value * 3}px`;

	// Translate the bar towards positive X axis
	bar.style.transform = `translateX(${i * 30}px)`;
	
	// To create element "label"
	const barLabel = document.createElement("label");

	// To add class "bar_id" to "label"
	barLabel.classList.add("bar_id");

	// Assign value to "label"
	barLabel.innerHTML = value;
	
	// Append "Label" to "div"
	bar.appendChild(barLabel);

	// Append "div" to "data-container div"
	container.appendChild(bar);
}
}

// asynchronous function to perform "Selection Sort"
async function SelectionSort(delay = 180) {
let bars = document.querySelectorAll(".bar");
// Assign 0 to min_idx
var min_idx = 0;
for (var i = 0; i < bars.length; i += 1) {
	
	// Assign i to min_idx
	min_idx = i;

	// Provide darkblue color to the ith bar
	bars[i].style.backgroundColor = "pink";
	for (var j = i + 1; j < bars.length; j += 1) {
		if(flag==1)return;
	// Provide red color to the jth bar
	bars[j].style.backgroundColor = "red";
		
	// To pause the execution of code for 300 milliseconds
	await new Promise((resolve) =>
		setTimeout(() => {
		resolve();
		}, 180)
	);

	// To store the integer value of jth bar to var1
	var val1 = parseInt(bars[j].childNodes[0].innerHTML);

	// To store the integer value of (min_idx)th bar to var2
	var val2 = parseInt(bars[min_idx].childNodes[0].innerHTML);
		
	// Compare val1 & val2
	if (val1 < val2) {
		if (min_idx !== i) {

		// Provide skyblue color to the (min-idx)th bar
		bars[min_idx].style.backgroundColor = " rgb(24, 190, 255)";
		}
		min_idx = j;
	} else {

		// Provide skyblue color to the jth bar
		bars[j].style.backgroundColor = " rgb(24, 190, 255)";
	}
	}

	// To swap ith and (min_idx)th bar
	var temp1 = bars[min_idx].style.height;
	var temp2 = bars[min_idx].childNodes[0].innerText;
	bars[min_idx].style.height = bars[i].style.height;
	bars[i].style.height = temp1;
	bars[min_idx].childNodes[0].innerText = bars[i].childNodes[0].innerText;
	bars[i].childNodes[0].innerText = temp2;
	
	// To pause the execution of code for 300 milliseconds
	await new Promise((resolve) =>
	setTimeout(() => {
		resolve();
	}, 180)
	);

	// Provide skyblue color to the (min-idx)th bar
	bars[min_idx].style.backgroundColor = " rgb(24, 190, 255)";

	// Provide lightgreen color to the ith bar
	bars[i].style.backgroundColor = " rgb(49, 226, 13)";
}

// To enable the button "Generate New Array" after final(sorted)
document.getElementById("Button1").disabled = false;
document.getElementById("Button1").style.backgroundColor = "#6f459e";

// To enable the button "Selection Sort" after final(sorted)
document.getElementById("Button2").disabled = false;
document.getElementById("Button2").style.backgroundColor = "#6f459e";
}

// Call "generatebars" function
generatebars();

// function to generate new random array
function generate()
{
window.location.reload();
}

// function to disable the button
function disable()
{
// To disable the button "Generate New Array"
document.getElementById("Button1").disabled = true;
document.getElementById("Button1").style.backgroundColor = "#d8b6ff";

// To disable the button "Selection Sort"
document.getElementById("Button2").disabled = true;
document.getElementById("Button2").style.backgroundColor = "#d8b6ff";
}

function stop()
{
flag=1;
}

const btn = document.querySelector("button");
btn.addEventListener("click", start);

function start()
{
flag=0;
updateBtn();
function updateBtn() {
    if (btn.textContent === "START") {
        btn.textContent = "STOP";
		SelectionSort();
    } else {
        btn.textContent = "START";
		stop();
    }
}

}

</script>
</html>
